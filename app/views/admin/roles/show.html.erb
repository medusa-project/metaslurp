<% provide :title, @role.name %>
<% provide :active_nav, 'access' %>

<%= breadcrumb({ label: 'Home', url: admin_root_path },
    { label: 'Roles', url: admin_roles_path },
    { label: @role.name }) %>

<%= button_bar({ label: 'Edit',
                 icon: 'fa-pencil',
                 if: lambda { current_user.admin? },
                 url: edit_admin_role_path(@role) },
               { label: 'Delete',
                 method: 'delete',
                 icon: 'fa-trash',
                 class: 'btn-danger',
                 confirm: 'Are you sure you want to delete this role?',
                 url: admin_role_path(@role),
                 if: lambda { @role.required } }) %>

<h1><%= @role.name %> <small><%= @role.key %></small></h1>

<h2>Users</h2>

<% if @role.users.any? %>
  <ul>
    <% @role.users.order(:username).each do |user| %>
      <li><%= link_to user.username, admin_user_path(user) %></li>
    <% end %>
  </ul>
<% else %>
  None
<% end %>
