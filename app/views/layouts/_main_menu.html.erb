<nav class="navbar navbar-expand-md navbar-light bg-light">
  <%= link_to 'Home', root_path, class: 'navbar-brand' %>
  <button type="button" class="navbar-toggler" data-toggle="collapse"
          data-target="#dl-navbar-collapse" aria-controls="dl-navbar-collapse"
          aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="dl-navbar-collapse">
    <ul class="navbar-nav">
      <li class="nav-item" id="content-services-nav">
        <%= link_to content_services_path, class: 'nav-link' do %>
          <%= icon_for(ContentService) %> Services
        <% end %>
      </li>
      <li class="nav-item" id="collections-nav">
        <%= link_to collections_path, class: 'nav-link' do %>
          <%= icon_for(Item.new(variant: Item::Variants::COLLECTION)) %> Collections
        <% end %>
      </li>
      <li class="nav-item" id="items-nav">
        <%= link_to items_path, class: 'nav-link' do %>
          <%= icon_for(Item) %> Items
        <% end %>
      </li>
      <li class="nav-item" id="favorites-nav">
        <%= link_to favorites_path, class: 'nav-link' do %>
          <span class="fas fa-heart"></span> Favorites
          <span class="badge badge-pill badge-secondary dl-favorites-count"><%= num_favorites %></span>
        <% end %>
      </li>
    </ul>

    <ul class="navbar-nav ml-md-auto">
      <% if current_user %>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" id="dl-user-menu-toggle"
             data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" href="#">
            <%= icon_for(User) %> <%= current_user.username %>
          </a>
          <div class="dropdown-menu dropdown-menu-right"
               aria-labelledby="dl-user-menu-toggle">
            <%= link_to 'Administration', admin_root_path, class: 'dropdown-item' %>
            <%= link_to 'Sign Out', signout_path, method: :delete, class: 'dropdown-item' %>
          </div>
        </li>
      <% else %>
        <li class="nav-item">
          <%= link_to 'Sign In', signin_path, class: 'nav-link' %>
        </li>
      <% end %>
    </ul>
  </div>
</nav>